<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.github.jomof.kane.SheetTest" tests="45" skipped="0" failures="0" errors="0" timestamp="2021-02-05T17:22:39" hostname="fv-az183-280" time="3.554">
  <properties/>
  <testcase name="softmax" classname="com.github.jomof.kane.SheetTest" time="0.006"/>
  <testcase name="add formula to csv" classname="com.github.jomof.kane.SheetTest" time="0.003"/>
  <testcase name="cells shouldn't expand unnecessarily" classname="com.github.jomof.kane.SheetTest" time="0.429"/>
  <testcase name="names of ranged expressions get expanded to columns in order" classname="com.github.jomof.kane.SheetTest" time="0.002"/>
  <testcase name="column of two ranges added" classname="com.github.jomof.kane.SheetTest" time="0.002"/>
  <testcase name="transitive reference" classname="com.github.jomof.kane.SheetTest" time="0.006"/>
  <testcase name="basic define column" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="repro matrix out of range issue" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="cell naming" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="repro named matrix issue" classname="com.github.jomof.kane.SheetTest" time="0.124"/>
  <testcase name="names of ranged expressions get expanded to columns" classname="com.github.jomof.kane.SheetTest" time="0.002"/>
  <testcase name="recursive sheet" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="range expanssion doesn't reduce arithmetic" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="find minimum but keep a variable constant" classname="com.github.jomof.kane.SheetTest" time="0.012"/>
  <testcase name="sheet with named columns" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="weird case where % was not converted to dollar" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="tiling operations" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="summation of inline expression" classname="com.github.jomof.kane.SheetTest" time="0.002"/>
  <testcase name="statistical functions" classname="com.github.jomof.kane.SheetTest" time="0.003"/>
  <testcase name="division table using fixed column and rows" classname="com.github.jomof.kane.SheetTest" time="0.006"/>
  <testcase name="test column tags" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="range expanssion doesn't reduce arithmetic with anonymous range" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="copy should not change moveable references" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="sum of relative references" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="types in sheet" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="second element of columnOf" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="empty sheet can still print" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="access column by name" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="percent of dollars" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="columnOf sheet" classname="com.github.jomof.kane.SheetTest" time="0.003"/>
  <testcase name="simplest tiling operations" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="shiller PE to following year return" classname="com.github.jomof.kane.SheetTest" time="0.867"/>
  <testcase name="read and clean csv" classname="com.github.jomof.kane.SheetTest" time="0.306"/>
  <testcase name="find minimum" classname="com.github.jomof.kane.SheetTest" time="0.019"/>
  <testcase name="don't expand constants initially" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="sheet with named tiling scalarizes" classname="com.github.jomof.kane.SheetTest" time="0.001"/>
  <testcase name="statistic summary function over range" classname="com.github.jomof.kane.SheetTest" time="0.005"/>
  <testcase name="statistic of block range" classname="com.github.jomof.kane.SheetTest" time="0.005"/>
  <testcase name="optimize stock-bond split based on trailing Shiller PE" classname="com.github.jomof.kane.SheetTest" time="1.709"/>
  <testcase name="relative reference" classname="com.github.jomof.kane.SheetTest" time="0.002"/>
  <testcase name="statistics of dog weights" classname="com.github.jomof.kane.SheetTest" time="0.01"/>
  <testcase name="column of two ranges added anonymous" classname="com.github.jomof.kane.SheetTest" time="0.005"/>
  <testcase name="reference range up past end of sheet" classname="com.github.jomof.kane.SheetTest" time="0.0"/>
  <testcase name="repro percent type propagates" classname="com.github.jomof.kane.SheetTest" time="0.004"/>
  <testcase name="basic sheet" classname="com.github.jomof.kane.SheetTest" time="0.002"/>
  <system-out><![CDATA[  A   B            C          
  - ---- -------------------- 
1 1 A1+1 exp(B1)/sum(exp(B1)) 
2 1 A2+2 exp(B2)/sum(exp(B1)) 
  A B    C    
  - - ------- 
1 1 2 0.09894 
2 1 3 0.09894 
Read 2 rows with 2 columns
  A   B    C   
  - ---- ----- 
1 1 -0.4 A1+B1 
2 2   -1 A2+B2 
  years [A]  j [B]          retired [C]        working [D]       modelYear [E]      stock [F]       bond [G]        inflation [H]        mult [I]             preTax [J]             postTax [K]       total [L] preTaxSavings [M] postTaxSavings [N]  spend [O]  retirementSpend [P] preTaxRatio [Q] 
  --------- ------- -------------------------- ----------- ------------------------ --------- -------------------- --------------- ------------------- ----------------------- ----------------------- --------- ----------------- ------------------ ----------- ------------------- --------------- 
1      2021 A1-1969 logit(10000*(A1-0.5-2023))        1-C1 (A1-2021)+modelStartYear sp500(E1) baacorporatebond(E1) usinflation(E1) 1+F1*70%+G1*(1-70%) $500,000.00+$500,000.00 $500,000.00+$500,000.00     J1+K1   D1*$26,000.00*2      D1*$48,000.00 $180,000.00               O1*C1           J1/L1 
2      2022 A2-1969 logit(10000*(A2-0.5-2023))        1-C2 (A2-2021)+modelStartYear sp500(E2) baacorporatebond(E2) usinflation(E2) 1+F2*70%+G2*(1-70%)                I1*J1+M1                I1*K1+N1     J2+K2      D2*(1+H1)*M1       D2*(1+H1)*N1   (1+H1)*O1               O2*C2           J2/L2 
3      2023 A3-1969 logit(10000*(A3-0.5-2023))        1-C3 (A3-2021)+modelStartYear sp500(E3) baacorporatebond(E3) usinflation(E3) 1+F3*70%+G3*(1-70%)                I2*J2+M2                I2*K2+N2     J3+K3      D3*(1+H2)*M2       D3*(1+H2)*N2   (1+H2)*O2               O3*C3           J3/L3 
4      2024 A4-1969 logit(10000*(A4-0.5-2023))        1-C4 (A4-2021)+modelStartYear sp500(E4) baacorporatebond(E4) usinflation(E4) 1+F4*70%+G4*(1-70%)                I3*J3+M3                I3*K3+N3     J4+K4      D4*(1+H3)*M3       D4*(1+H3)*N3   (1+H3)*O3               O4*C4           J4/L4 
5      2025 A5-1969 logit(10000*(A5-0.5-2023))        1-C5 (A5-2021)+modelStartYear sp500(E5) baacorporatebond(E5) usinflation(E5) 1+F5*70%+G5*(1-70%)                I4*J4+M4                I4*K4+N4     J5+K5      D5*(1+H4)*M4       D5*(1+H4)*N4   (1+H4)*O4               O5*C5           J5/L5 
6      2026 A6-1969 logit(10000*(A6-0.5-2023))        1-C6 (A6-2021)+modelStartYear sp500(E6) baacorporatebond(E6) usinflation(E6) 1+F6*70%+G6*(1-70%)                I5*J5+M5                I5*K5+N5     J6+K6      D6*(1+H5)*M5       D6*(1+H5)*N5   (1+H5)*O5               O6*C6           J6/L6 
7                                                                                                                                                                     I6*J6+M6                I6*K6+N6     J7+K7                                        (1+H6)*O6                               J7/L7 
equit=70%
initialPostTax=$500,000.00+$500,000.00
initialPostTaxSave=$48,000.00
initialPreTax=$500,000.00+$500,000.00
initialPreTaxSave=$26,000.00*2
initialRetirementSpend=$180,000.00
modelStartYear=random(1928.0 to 2019.0)
post1=$500,000.00
post2=$500,000.00
pre1=$500,000.00
pre2=$500,000.00
  years  j retired working modelYear stock bond inflation mult     preTax       postTax        total     preTaxSavings postTaxSavings    spend    retirementSpend preTaxRatio 
  ----- -- ------- ------- --------- ----- ---- --------- ---- ------------- ------------- ------------- ------------- -------------- ----------- --------------- ----------- 
1  2021 52       0       1      1974   14%   6%        3% 113% $1,000,000.00 $1,000,000.00 $2,000,000.00    $52,000.00     $48,000.00 $180,000.00           $0.00         50% 
2  2022 53       0       1      1975   14%   6%        3% 112% $1,177,780.00 $1,173,780.00 $2,351,560.00    $53,456.00     $49,344.00 $185,040.00               0         50% 
3  2023 54       0       1      1976   14%   6%        3% 112% $1,330,591.88 $1,321,803.32 $2,652,395.19    5,489,557%     5,067,283% 19,002,312%               0         50% 
4  2024 55       1       0      1977   14%   6%        3% 112%  151,718,323%  150,438,377%  302,185,903%             0              0 19,497,480%     19,497,480%         50% 
5  2025 56       1       0      1978   14%   7%        3% 112%  163,203,357%  161,492,681%  324,696,039%             0              0 20,088,992%     20,088,992%         50% 
6  2026 57       1       0      1979   14%   7%        3% 113%  178,514,184%  177,200,807%  355,714,990%             0              0 20,479,409%     20,479,409%         50% 
7                                                               196,234,283%  194,612,298%  390,855,837%                              21,117,694%                         50% 
equit=70%
initialPostTax=$1,000,000.00
initialPostTaxSave=$48,000.00
initialPreTax=$1,000,000.00
initialPreTaxSave=$52,000.00
initialRetirementSpend=$180,000.00
modelStartYear=1974
post1=$500,000.00
post2=$500,000.00
pre1=$500,000.00
pre2=$500,000.00
Read 2 rows with 1 columns
Read 2 rows with 2 columns
   A      B     C                     D                                           E                       
  --- --------- - ---------------------------------------- ---------------------------------------------- 
1 0.2 (A1+0)*A1   exp(B1/(0.1*0.1))/sum(exp(B1/(0.1*0.1))) exp(-(B1)/(0.1*0.1))/sum(exp(-(B1)/(0.1*0.1))) 
2 1.3 (A2+0)*A2   exp(B2/(0.1*0.1))/sum(exp(B1/(0.1*0.1))) exp(-(B2)/(0.1*0.1))/sum(exp(-(B1)/(0.1*0.1))) 
3       sum(B1)                                                                                           
   A    B  C                                                    D                                                                     E                   
  --- ---- - ------------------------------------------------------------------------------------------------------ ------------------------------------- 
1 0.2 0.04                                                                     54.59815/(exp(100*C1²)+exp(100*C1²)) 0.01832/(exp(-100*D1²)+exp(-100*D1²)) 
2 1.3 1.69   24875249283177429673599117628596934074051298725031312738550442321858527232/(exp(100*C2²)+exp(100*C2²))       0/(exp(-100*D2²)+exp(-100*D2²)) 
3     0.08                                                                                                                                                
   A  increasing 
  --- ---------- 
1              1 
2 2.1          2 
3 3.1          3 
4 4.1          4 
5 5.1          5 
6 6.1            
  A B 
  - - 
1 0 0 
2     
Expanding target expression 'A2'
Differentiating target expression A2 with respect to change variables: [0,0]
Plan has 13 common sub-expressions and uses 104 bytes
Minimizing
Target 'A2' reduced from  to 
Read 2 rows with 1 columns
    A  
  ---- 
1   A2 
2 A1+1 
    A  
  ---- 
1   A2 
2 A1+1 
Read 2 rows with 1 columns
      A      B 
  --------- -- 
1         2 11 
2        -2    
3   B1-A2-1    
4 A1²+A3²+1    

Expanding target expression 'A4'
Differentiating target expression A4 with respect to change variables: [0,0] [0,1]
Plan has 15 common sub-expressions and uses 120 bytes
Minimizing
Target 'A4' reduced from 149 to 1
      A      B 
  --------- -- 
1         0 11 
2        10    
3   B1-A2-1    
4 A1²+A3²+1    


   A     B   
  --- ------ 
1 17% $16.54 
    A     B      C         D         E         F     
  ----- ---- --------- --------- --------- --------- 
1        see       how      they       run           
2 three    x      92.2         y     102.2           
3 blind    m     $1.11     $1.23                     
4  mice 11.2        11        12        13           
5          b logit(B7) logit(B7) logit(B7) logit(B7) 
6        7.1                                         
7       1492                                         
   A      B     C                 D                
  --- --------- - -------------------------------- 
1 0.2 (A1+0)*A1   exp(10000-B1)/sum(exp(10000-B1)) 
2 1.3 (A2+0)*A2   exp(10000-B2)/sum(exp(10000-B1)) 
3       sum(B1)                                    
   A    B  C                     D                    
  --- ---- - ---------------------------------------- 
1 0.2 0.04   Infinite/(exp(10000-C1²)+exp(10000-C1²)) 
2 1.3 1.69   Infinite/(exp(10000-C2²)+exp(10000-C2²)) 
3     0.08                                            
   A B C   D        E     
  -- - - ----- ---------- 
1  7      mean   mean(A1) 
2  8     stdev stddev(A1) 
3  9     count          6 
4 10                      
5 11                      
6 12                      
   A B C   D      E    
  -- - - ----- ------- 
1  7      mean     9.5 
2  8     stdev 1.87083 
3  9     count       6 
4 10                   
5 11                   
6 12                   
Read 2 rows with 1 columns
  A    B    
  - ------- 
1 1    A1+1 
2 1    A2+2 
3   sum(B1) 
  A B 
  - - 
1 1 2 
2 1 3 
3   5 
      A     
  --------- 
1 My String 
2     $1.23 

  A 
  - 
1 1 
2 2 

Read 2 rows with 2 columns
      A     
  --------- 
1       15% 
2 $1,234.00 
3     A1*A2 
4     A1*A2 
5     A1*A2 
      A     
  --------- 
1       15% 
2 $1,234.00 
3   $185.10 
4   $185.10 
5   $185.10 
    A    B    C  
  ---- ---- ---- 
1 2020           
2 2021 2020      
3 2022 2021 C2+1 
4 2023 2022 C3+2 
5      2023 C4+3 
6           C5+4 
     A       B        C        D     
   ---- ---------- ------- --------- 
 1    m          1   error 3265.0463 
 2    b          0                   
 3 YEAR Shiller PE S&P 500           
 4 1928      18.81     44%     18.81 
 5 1929      27.08   (-8%)     27.08 
 6 1930      22.31  (-25%)     22.31 
 7 1931      16.71  (-44%)     16.71 
 8 1932       9.31   (-9%)      9.31 
 9 1933       8.73     50%      8.73 
10 1934      13.03   (-1%)     13.03 
11 1935       11.5     47%      11.5 
12 1936      17.09     32%     17.09 
13 1937      21.62  (-35%)     21.62 
14 1938      13.51     29%     13.51 
Expanding target expression 'D1'
Differentiating target expression D1 with respect to change variables: [1,0] [1,1]
Plan has 102 common sub-expressions and uses 816 bytes
Minimizing
Target 'D1' reduced from 3265.0463 to 0.92945
     A       B        C        D    
   ---- ---------- ------- -------- 
 1    m   -0.02448   error  0.92945 
 2    b    0.46576                  
 3 YEAR Shiller PE S&P 500          
 4 1928      18.81     44%  0.00528 
 5 1929      27.08   (-8%) -0.19718 
 6 1930      22.31  (-25%) -0.08041 
 7 1931      16.71  (-44%)  0.05669 
 8 1932       9.31   (-9%)  0.23785 
 9 1933       8.73     50%  0.25204 
10 1934      13.03   (-1%)  0.14678 
11 1935       11.5     47%  0.18423 
12 1936      17.09     32%  0.04738 
13 1937      21.62  (-35%) -0.06352 
14 1938      13.51     29%  0.13503 
columns=2
rows=3009
column #0 : DateTime [date]
column #1 : SP500/GDP [double]
Read 3009 rows with 2 columns
       DateTime [A]    SP500/GDP [B] 
   ------------------- ------------- 
 1 1870-12-31 00:00:02       0.50427 
 2 1871-01-31 00:00:02       0.51109 
 3 1871-02-28 00:00:02       0.52358 
 4 1871-03-31 00:00:02       0.53834 
 5 1871-04-30 00:00:02       0.55197 
 6 1871-05-31 00:00:02       0.54743 
 7 1871-06-30 00:00:02       0.53721 
 8 1871-07-31 00:00:02       0.54402 
 9 1871-08-31 00:00:02        0.5497 
10 1871-09-30 00:00:02       0.52131 
...and 2999 more rows
      A      B 
  --------- -- 
1         2 11 
2        -2    
3   B1-A2-1    
4 A1²+A3²+1    

Expanding target expression 'A4'
Differentiating target expression A4 with respect to change variables: [0,0] [1,0] [0,1]
Plan has 17 common sub-expressions and uses 136 bytes
Minimizing
Target 'A4' reduced from 149 to 1
      A     B 
  --------- - 
1         0 5 
2         4   
3   B1-A2-1   
4 A1²+A3²+1   

  A B 
  - - 
1 0 5 
2 4   
3 0   
4 1   
    A  
  ---- 
1    1 
2 A1+1 
  A 
  - 
1 1 
2 2 
Read 2 rows with 1 columns
Read 2 rows with 2 columns
     A       B        C           D       E F     G       H       I      J    
   ---- ---------- ------- -------------- - - -------- ------- ------ ------- 
 1    m          0                                              error  2.1025 
 2    b          0  0.3443        0.11096                           0 8.41779 
 3 YEAR Shiller PE S&P 500 BAA Corp Bonds     stock(%) bond(%) Mix($)         
 4 1928      18.81     44%             3%          0.5     0.5  $1.20         
 5 1929      27.08   (-8%)             3%          0.5     0.5  $0.85         
 6 1930      22.31  (-25%)             1%          0.5     0.5  $0.62         
 7 1931      16.71  (-44%)         (-16%)          0.5     0.5  $0.75         
 8 1932       9.31   (-9%)            24%          0.5     0.5  $1.41         
 9 1933       8.73     50%            13%          0.5     0.5  $1.43         
10 1934      13.03   (-1%)            19%          0.5     0.5  $1.41         
11 1935       11.5     47%            13%          0.5     0.5                
12 1936      17.09     32%            11%          0.5     0.5                
13 1937      21.62  (-35%)          (-4%)                                     
14 1938      13.51     29%             9%                                     
Expanding target expression 'J1'
Differentiating target expression J1 with respect to change variables: [1,0] [1,1]
Plan has 130 common sub-expressions and uses 1040 bytes
Minimizing
Target 'J1' reduced from 2.1025 to 2.1025
     A       B        C           D       E F     G       H       I      J    
   ---- ---------- ------- -------------- - - -------- ------- ------ ------- 
 1    m          0                                              error  2.1025 
 2    b          0  0.3443        0.11096                           0 8.41779 
 3 YEAR Shiller PE S&P 500 BAA Corp Bonds     stock(%) bond(%) Mix($)         
 4 1928      18.81     44%             3%          0.5     0.5  $1.20         
 5 1929      27.08   (-8%)             3%          0.5     0.5  $0.85         
 6 1930      22.31  (-25%)             1%          0.5     0.5  $0.62         
 7 1931      16.71  (-44%)         (-16%)          0.5     0.5  $0.75         
 8 1932       9.31   (-9%)            24%          0.5     0.5  $1.41         
 9 1933       8.73     50%            13%          0.5     0.5  $1.43         
10 1934      13.03   (-1%)            19%          0.5     0.5  $1.41         
11 1935       11.5     47%            13%          0.5     0.5                
12 1936      17.09     32%            11%          0.5     0.5                
13 1937      21.62  (-35%)          (-4%)                                     
14 1938      13.51     29%             9%                                     
    A   
  ----- 
1 $0.15 
2 $0.50 
Read 5 rows with 1 columns
  weight [A]  squared [B]  difference [C] 
  ---------- ------------- -------------- 
1        600 (mean(A)-A1)²     mean(A)-A1 
2        470 (mean(A)-A2)²     mean(A)-A2 
3        170 (mean(A)-A3)²     mean(A)-A3 
4        430 (mean(A)-A4)²     mean(A)-A4 
5        300 (mean(A)-A5)²     mean(A)-A5 
mean=mean(A)
stddev=pow((sum((mean(A)-A)²)/(count((mean(A)-A)²)-1)),0.5)
stddevExpr=stddev(A)
sumSquared=sum((mean(A)-A)²)
variance=sum((mean(A)-A)²)/(count((mean(A)-A)²)-1)
varianceExpr=variance(A)
Read 2 rows with 2 columns
  preTaxRatio [A]  preTax [B] years [C] total [D] 
  --------------- ----------- --------- --------- 
1           B1/D1 $1.00+$1.00         0     B1+B1 
2           B2/D2       C1+B1               B2+B2 
  preTaxRatio preTax years total 
  ----------- ------ ----- ----- 
1         50%  $2.00     0 $4.00 
2         50%  $2.00       $4.00 
      A      B  
  -------- ---- 
1        1 A1+8 
2     A1+1      
3 A2+$1.10      
4     A5+3      
5     B5+5    7 
    A   B 
  ----- - 
1     1 9 
2     2   
3 $3.10   
4    15   
5    12 7 
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
